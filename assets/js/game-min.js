const module=(()=>{"use strict";let e=[],l=["C","D","H","S"],t=["A","J","Q","K"],r=[],d=document.querySelector("#btnCall"),s=document.querySelector("#btnStop"),i=document.querySelector("#btnNew"),n=document.querySelectorAll(".divCards"),a=document.querySelectorAll("small");s.disabled=!0,d.disabled=!0;let o=()=>{e=[],r=[];for(let d=2;d<=10;d++)for(let s of l)e.push(d+s);for(let i of l)for(let n of t)e.push(n+i);return _.shuffle(e)};function c(e){for(;e.firstChild;)e.removeChild(e.firstChild)}let $=(l=2)=>{e=[],e=o(),r=[];for(let t=0;t<l;t++)r.push(0);a.forEach(e=>e.innerText=0),n.forEach(e=>e.innerHTML=""),d.disabled=!1,s.disabled=!0},u=()=>{if(0===e.length)throw"The deck is empty";return e.pop()},f=e=>{let l=e.substring(0,e.length-1);return isNaN(l)?"A"===l?11:10:1*l},h=(e,l)=>(r[l]=r[l]+f(e),a[l].innerText=r[l],r[l]),b=(e,l)=>{let t=document.createElement("img");t.src=`assets/cards/${e}.png`,t.classList.add("cards"),n[l].append(t)},p=()=>{let[e,l]=r;setTimeout(()=>{21===l&&21===e?alert("Draw"):e>21?alert("Cpu Wins"):l>21?alert("Player Wins"):alert("Cpu Wins")},100)},C=e=>{let l=0;do{let t=u();l=h(t,r.length-1),b(t,r.length-1)}while(l<e&&e<=21);p()};return d.addEventListener("click",()=>{s.disabled=!1;let e=u(),l=h(e,0);b(e,0),l>21?(d.disabled=!0,s.disabled=!0,C(l)):21===l&&(d.disabled=!0,s.disabled=!0,C(l))}),s.addEventListener("click",()=>{d.disabled=!0,s.disabled=!0,C(r[0])}),i.addEventListener("click",()=>{$()}),{newGame:$}})();